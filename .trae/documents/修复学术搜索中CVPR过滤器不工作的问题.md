# 修复学术搜索中CVPR过滤器不工作的问题

## 问题分析

根据终端日志和代码分析，发现以下问题：

1. **DBLP和OpenAlex返回0篇论文**：
   - DBLP API对某些复杂查询返回0篇论文
   - OpenAlex API对某些查询也返回0篇论文

2. **arXiv返回的60篇论文没有通过CVPR过滤器**：
   - arXiv是预印本平台，大多数论文在提交时还没有被任何会议接收
   - 系统检查title、abstract和comments字段，但这些字段通常不包含CVPR等会议信息

3. **整体搜索策略问题**：
   - 缺乏对不同数据源特性的适应性处理
   - 没有实现分层搜索策略来提高召回率

## 修复计划

### 1. 改进DBLP搜索
- **优化查询生成**：进一步简化DBLP查询，使用更常见的术语
- **查询变体**：对于DBLP API返回0篇论文的情况，尝试使用不同的查询变体
- **错误处理**：添加错误处理和重试机制，确保DBLP API请求失败时不会影响整体搜索

### 2. 改进OpenAlex搜索
- **错误处理**：添加错误处理和重试机制，处理OpenAlex API返回0篇论文的情况
- **查询优化**：优化OpenAlex查询，使用更简单的术语
- **备选方案**：当OpenAlex返回0篇论文时，尝试使用不同的查询变体

### 3. 改进arXiv过滤策略
- **预印本特性处理**：考虑到arXiv是预印本平台，调整过滤策略
- **注释字段分析**：更仔细地分析arXiv论文的comments字段，寻找"To appear in CVPR"等信息
- **宽松过滤**：对于arXiv论文，使用更宽松的过滤条件，或者暂时跳过过滤，等论文被会议接收后再进行过滤

### 4. 实现分层搜索策略
- **数据源优先级**：设置数据源优先级，先尝试最准确的数据源（如DBLP），然后是其他数据源（如arXiv、OpenAlex）
- **查询变体**：对于每个数据源，使用不同的查询变体，以提高召回率
- **结果融合**：智能融合来自不同数据源的结果，确保不会遗漏相关论文

### 5. 添加Google Scholar作为备选数据源
- **Google Scholar集成**：当其他数据源返回0篇论文时，尝试使用Google Scholar
- **SerpAPI配置**：提供SerpAPI密钥配置选项，让用户可以选择是否使用Google Scholar

## 预期结果

- **DBLP搜索**：能够返回相关的CVPR论文
- **OpenAlex搜索**：能够返回相关的CVPR论文
- **arXiv过滤**：能够正确处理arXiv预印本，找到相关的CVPR论文
- **整体搜索**：即使某些数据源返回0篇论文，也能通过其他数据源找到相关的CVPR论文

## 验证方法

- **单元测试**：为每个修复点编写单元测试，确保修复有效
- **集成测试**：测试整体搜索流程，确保能够找到相关的CVPR论文
- **手动测试**：使用实际的CVPR相关查询进行测试，验证搜索结果的质量