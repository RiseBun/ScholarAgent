# 修复 StreamlitDuplicateElementKey 错误

## 问题分析

**错误原因**：有两个地方会显示论文并生成"⭐ Save"按钮，它们使用了相同的key生成方式，导致重复的key。

**具体问题**：
1. **第一个地方**（第409-463行）：在搜索完成后显示结果时生成按钮
2. **第二个地方**（第515-566行）：在显示历史结果时生成按钮

两个地方都使用相同的key格式：`f"bookmark_{idx}_{paper.title}_{st.session_state.search_count}"`

当同时显示搜索结果和历史结果时，就会出现重复的key，因为：
- 两个地方都可能使用相同的idx（比如都是0）
- 可能显示相同的论文
- 可能使用相同的search_count

## 解决方案

**推荐方案**：为不同的上下文添加不同的标识符，确保key的唯一性。

**修改步骤**：

1. **修改第一个地方**（搜索结果显示）：
   - 在key中添加"search"标识符
   - 修改为：`f"bookmark_search_{idx}_{paper.title}_{st.session_state.search_count}"`

2. **修改第二个地方**（历史结果显示）：
   - 在key中添加"history"标识符
   - 修改为：`f"bookmark_history_{idx}_{paper.title}_{st.session_state.search_count}"`

## 预期效果

修复后，不同上下文生成的按钮key将完全不同，不会再出现重复key的错误。系统将能够：
- 同时显示搜索结果和历史结果，不会崩溃
- 正确处理"⭐ Save"按钮的点击操作
- 保持其他功能的正常运行

## 具体修改位置

1. `pages/1_🔍_Search.py` 第447行：修改搜索结果按钮的key生成
2. `pages/1_🔍_Search.py` 第552行：修改历史结果按钮的key生成